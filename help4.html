<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:36pt; font-weight:600;">边缘检测</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'SimSun,dc959a44e45c3b3566ec8b0d0010001,SimSun'; font-size:20pt; font-weight:600; color:#000000; background-color:#ffffff;">一、图像边缘检测原理</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:14pt;">边缘是图像上灰度变化最明显的地方，传统边缘检测利用此特点，对图像各像素点进行求微分或二阶微分来定位边缘像素点。由灰度变化特点，可将边缘类型分为阶梯状、脉冲状和屋顶状三种[1]。对于阶梯状，图像边缘点对应一阶微分图像的峰值和二阶微分图像的零交叉处；对于脉冲状和屋顶状边缘，边缘点对应一阶导数的零交叉和二阶导数的峰值</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src=":/images/QQ截图20160426232634.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:14pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:xx-large; color:#3333ff;">canny算子篇</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#cc0000;"> canny算子相关理论与概念讲解</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="t3"></a><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#000000;"><br /></span><a name="t4"></a><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#999999;">2</span><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#999999;">.1.1</span><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#009900;"> canny算子简介</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">Canny边缘检测算子是John F.Canny于 1986 年开发出来的一个多级边缘检测算法。更为重要的是 Canny 创立了边缘检测计算理论（Computational theory ofedge detection），解释了这项技术是如何工作的。Canny边缘检测算法以Canny的名字命名，被很多人推崇为当今最优的边缘检测的算法。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">其中，Canny 的目标是找到一个最优的边缘检测算法，让我们看一下最优边缘检测的三个主要评价标准:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:24px; color:#3333ff;">1.低错误率: </span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">标识出尽可能多的实际边缘，同时尽可能的减少噪声产生的误报。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:24px; color:#cc6600;">2.高定位性: </span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">标识出的边缘要与图像中的实际边缘尽可能接近。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:24px; color:#339999;">3.最小响应:</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#339999;"> </span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">图像中的边缘只能标识一次，并且可能存在的图像噪声不应标识为边缘。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">为了满足这些要求 Canny 使用了变分法，这是一种寻找满足特定功能的函数的方法。最优检测使用四个指数函数项的和表示，但是它非常近似于高斯函数的一阶导数。</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#999999;">2.1.2</span><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#cc0000;"> Canny 边缘检测的步骤</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span><span style=" font-family:'Microsoft YaHei'; font-size:18px; color:#3333ff;">1.消除噪声。</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> 一般情况下，使用高斯平滑滤波器卷积降噪。 如下显示了一个 size = 5 的高斯内核示例:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/QQ截图20160427000333.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:18px; color:#cc0000;">2.计算梯度幅值和方向。</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> 此处，按照Sobel滤波器的步骤。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; font-weight:600; color:#009900; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/QQ截图20160427000339.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; font-weight:600; color:#6600cc; background-color:#ffffff;">Ⅱ.</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;">使用下列公式计算梯度幅值和方向:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/QQ截图20160427000346.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">梯度方向近似到四个可能角度之一(一般为0, 45, 90, 135)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:18px; color:#009900;">3.非极大值抑制。 </span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">这一步排除非边缘像素， 仅仅保留了一些细线条(候选边缘)。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:18px; color:#3366ff;">4.滞后阈值</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">。最后一步，Canny 使用了滞后阈值，滞后阈值需要两个阈值(高阈值和低阈值):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:80px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; font-weight:600; color:#339999;">Ⅰ.</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">如果某一像素位置的幅值超过 高 阈值, 该像素被保留为边缘像素。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:80px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; font-weight:600; color:#cc0000;">Ⅱ.</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">如果某一像素位置的幅值小于 低 阈值, 该像素被排除。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:80px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; font-weight:600; color:#000099;">Ⅲ</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000099;">.</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">如果某一像素位置的幅值在两个阈值之间,该像素仅仅在连接到一个高于 高 阈值的像素时被保留。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:80px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">tips：对于Canny函数的使用，推荐的高低阈值比在2:1到3:1之间。</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:80px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:80px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#999999;">2.2 </span><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#cc33cc;">OpenCV中Canny函数详解</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">Canny函数利用Canny算法来进行图像的边缘检测。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;">C+++: </span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; font-weight:600; color:#0000ff; background-color:#f5fae2;">voivoid</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;"> Canny(InputArray image,OutputArray edges, </span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; font-weight:600; color:#2e8b57; background-color:#f5fae2;">double</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;"> threshold1, </span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; font-weight:600; color:#2e8b57; background-color:#f5fae2;">double</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;"> threshold2, </span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; font-weight:600; color:#2e8b57; background-color:#f5fae2;">int</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;"> apertureSize=3,</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; font-weight:600; color:#2e8b57; background-color:#f5fae2;">bool</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;"> L2gradient=</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; font-weight:600; color:#0000ff; background-color:#f5fae2;">false</span><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;"> )</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#ffffff;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第一个参数，InputArray类型的image，输入图像，即源图像，填Mat类的对象即可，且需为单通道8位图像。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第二个参数，OutputArray类型的edges，输出的边缘图，需要和源图片有一样的尺寸和类型。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第三个参数，double类型的threshold1，第一个滞后性阈值。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第四个参数，double类型的threshold2，第二个滞后性阈值。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第五个参数，int类型的apertureSize，表示应用Sobel算子的孔径大小，其有默认值3。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第六个参数，bool类型的L2gradient，一个计算图像梯度幅值的标识，有默认值false。</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">需要注意的是，这个函数阈值1和阈值2两者的小者用于边缘连接，而大者用来控制强边缘的初始段，推荐的高低阈值比在2:1到3:1之间。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">调用示例：</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/QQ截图20160427001003.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:1px; margin-left:45px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:18px; background-color:#f5fae2;"><span style=" font-family:'Microsoft YaHei'; font-size:xx-large; color:#3333ff;">三、sobel算子篇</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span><a name="t9"></a><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#999999;">3</span><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#999999;">.1</span><span style=" font-family:'Microsoft YaHei'; font-size:x-large; font-weight:600; color:#999999;"> </span><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#009900;">sobel算子相关理论与概念讲解</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span><a name="t10"></a><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#999999;">3</span><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#999999;">.1.1 </span><span style=" font-family:'Microsoft YaHei'; font-size:large; font-weight:600; color:#cc0000;">基本概念</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br />Sobel 算子是一个主要用作边缘检测的离散微分算子 (discrete differentiation operator)。 它Sobel算子结合了高斯平滑和微分求导，用来计算图像灰度函数的近似梯度。在图像的任何一点使用此算子，将会产生对应的梯度矢量或是其法矢量。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Arial'; font-size:14px; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">sobel算子的wikipedia：</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" background-color:#ffffff;">http://zh.wikipedia.org/wiki/%E7%B4%A2%E8%B2%9D%E7%88%BE%E7%AE%97%E5%AD%90</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">sobel算子相关概念，还可以参看这篇博文：</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" background-color:#ffffff;">http://www.cnblogs.com/lancidie/archive/2011/07/17/2108885.html</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; text-decoration: underline; color:#0000ff; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:24px; font-weight:600; color:#999999;">3.1.2 </span><span style=" font-family:'Microsoft YaHei'; font-size:18px; font-weight:600; color:#3333ff;">sobel算子的计算过程</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Arial'; font-size:14px; color:#000000;"><br /></span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">我们假设被作用图像为 I.然后进行如下的操作：</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:24px; color:#cc0000;">1.</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">分别在x和y两个方向求导。</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/3.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:18px; color:#6600cc; background-color:#ffffff;">Ⅱ.垂直变化: </span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;">将: I 与一个奇数大小的内核G</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff; vertical-align:sub;">y</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;">进行卷积。比如，当内核大小为3时, G</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff; vertical-align:sub;">x</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"> 的计算结果为:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:18px; color:#336666;">Ⅰ.水平变化: </span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">将 I 与一个奇数大小的内核G</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; vertical-align:sub;">x</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">进行卷积。比</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">如，当内核大小为3时, G</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; vertical-align:sub;">x</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">的计算结果为:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/0.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:24px; color:#009900; background-color:#ffffff;">2.</span><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;">在图像的每一点，结合以上两个结果求出近似梯度:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" background-color:#ffffff;">                                              </span><img src=":/images/4.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;">另外有时，也可用下面更简单公式代替:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#999999;">3.2</span><span style=" font-family:'Microsoft YaHei'; font-size:x-large; font-weight:600; color:#999999;"> </span><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#cc0000;">OpenCV中Sobel函数详解</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br />Sobel函数使用扩展的 Sobel 算子，来计算一阶、二阶、三阶或混合图像差分。</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/QQ截图20160427001544.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial'; font-size:14px; color:#000000; background-color:#ffffff;" style=" margin-top:12px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第一个参数，InputArray 类型的src，为输入图像，填Mat类型即可。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第二个参数，OutputArray类型的dst，即目标图像，函数的输出参数，需要和源图片有一样的尺寸和类型。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第三个参数，int类型的ddepth，输出图像的深度，支持如下src.depth()和ddepth的组合：</span></li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_8U, 取ddepth =-1/CV_16S/CV_32F/CV_64F</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_16U/CV_16S, 取ddepth =-1/CV_32F/CV_64F</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_32F, 取ddepth =-1/CV_32F/CV_64F</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_64F, 取ddepth = -1/CV_64F</span></li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:12px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第四个参数，int类型dx，x 方向上的差分阶数。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第五个参数，int类型dy，y方向上的差分阶数。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第六个参数，int类型ksize，有默认值3，表示Sobel核的大小;必须取1，3，5或7。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第七个参数，double类型的scale，计算导数值时可选的缩放因子，默认值是1，表示默认情况下是没有应用缩放的。我们可以在文档中查阅getDerivKernels的相关介绍，来得到这个参数的更多信息。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第八个参数，double类型的delta，表示在结果存入目标图（第二个参数dst）之前可选的delta值，有默认值0。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第九个参数， int类型的borderType，我们的老朋友了（万年是最后一个参数），边界模式，默认值为BORDER_DEFAULT。这个参数可以在官方文档中borderInterpolate处得到更详细的信息。</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Arial'; font-size:14px; color:#000000;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">一般情况下，都是用ksize x ksize内核来计算导数的。然而，有一种特殊情况――当ksize为1时，往往会使用3 x 1或者1 x 3的内核。且这种情况下，并没有进行高斯平滑操作。</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:x-large; color:#009900;">OpenCV中Scharr函数详解</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">使用Scharr滤波器运算符计算x或y方向的图像差分。其实它的参数变量和Sobel基本上是一样的，除了没有ksize核的大小。</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; font-family:'Microsoft YaHei'; font-size:14px; color:#000000; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><img src=":/images/QQ截图20160427001833.png" /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><br /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial'; font-size:14px; color:#000000; background-color:#ffffff;" style=" margin-top:12px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第一个参数，InputArray 类型的src，为输入图像，填Mat类型即可。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第二个参数，OutputArray类型的dst，即目标图像，函数的输出参数，需要和源图片有一样的尺寸和类型。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第三个参数，int类型的ddepth，输出图像的深度，支持如下src.depth()和ddepth的组合：</span></li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_8U, 取ddepth =-1/CV_16S/CV_32F/CV_64F</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_16U/CV_16S, 取ddepth =-1/CV_32F/CV_64F</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_32F, 取ddepth =-1/CV_32F/CV_64F</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">若src.depth() = CV_64F, 取ddepth = -1/CV_64F</span></li></ul>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:12px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第四个参数，int类型dx，x方向上的差分阶数。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第五个参数，int类型dy，y方向上的差分阶数。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第六个参数，double类型的scale，计算导数值时可选的缩放因子，默认值是1，表示默认情况下是没有应用缩放的。我们可以在文档中查阅getDerivKernels的相关介绍，来得到这个参数的更多信息。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第七个参数，double类型的delta，表示在结果存入目标图（第二个参数dst）之前可选的delta值，有默认值0。</span></li>
<li style=" font-family:'Arial'; font-size:14px; color:#000000;" style=" margin-top:0px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px;">第八个参数， int类型的borderType，我们的老朋友了（万年是最后一个参数），边界模式，默认值为BORDER_DEFAULT。这个参数可以在官方文档中borderInterpolate处得到更详细的信息。</span></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:26px; background-color:#ffffff;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Microsoft YaHei'; font-size:14px; color:#000000;">不难理解，如下两者是等价的：</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;">Scharr(src, dst, ddepth, dx, dy, scale,delta, borderType);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;">与</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000; background-color:#f5fae2;">Sobel(src, dst, ddepth, dx, dy, CV_SCHARR,scale, delta, borderType); </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Consolas,Courier New,Courier,mono,serif'; font-size:12px; color:#000000;"><br /></p></body></html>
